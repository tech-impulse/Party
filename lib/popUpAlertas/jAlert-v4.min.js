/* 
	*
	*
	jAlert v.4
	Made with love by Versatility Werks (http://flwebsites.biz)
	MIT Licensed
	*
	*
*/
;!function(e){Date.now||(Date.now=function(){return+new Date}),e.fn.jAlert=function(t){e("body").focus(),e("body").blur();var n=["default","green","dark_green","red","dark_red","black","brown","gray","dark_gray","blue","dark_blue","yellow"],o=["xsm","sm","md","lg","xlg","full","auto"],i={xsmall:"xsm",small:"sm",medium:"md",large:"lg",xlarge:"xlg"},a=["white","black"],r=[],l=["animated"],s=[];if(this.length>1)return this.each(function(){e.fn.jAlert(t)}),this;if("undefined"!=typeof e(this)[0]&&"undefined"!=e(this)[0].jAlert)return e(this)[0].jAlert;if(e.each(e.fn.jAlert.defaults,function(e,n){var o=e.toLowerCase();"undefined"!=typeof t[o]&&(t[e]=t[o])}),t=e.extend({},e.fn.jAlert.defaults,t),t.id)var c=t.id;else var d=Date.now().toString()+Math.floor(1e5*Math.random()),c="ja_"+d;var f={set:function(e,t){return f[e]=t,f},__set:function(e,t){return f.set(e,t)},get:function(e){return f[e]},__get:function(e){return f.get(e)},centerAlert:function(){var t=e(window).height(),n=f.instance.height(),o=t-n,i=o/2;return i=i>200?i-100:i,i=0>=i?0:i,f.instance.css("margin-top",i+"px"),e("body").css("overflow","hidden"),o>5?f.instance.parents(".ja_wrap").css("position","fixed"):(f.instance.parents(".ja_wrap").css("position","absolute"),e("html, body").animate({scrollTop:i-50},200)),f},animateAlert:function(e){return"hide"==e?f.instance.removeClass(f.showAnimation).addClass(f.hideAnimation):(f.centerAlert(),f.instance.addClass(f.showAnimation).removeClass(f.hideAnimation).show()),f},closeAlert:function(t,n){return 0!=t&&(t=!0),f.instance&&(f.instance.unbind("DOMSubtreeModified"),f.animateAlert("hide"),window.setTimeout(function(){var o=f.instance.parents(".ja_wrap");t?o.remove():o.hide(),"function"==typeof n?n(f.instance):"function"==typeof f.onClose&&f.onClose(f.instance),e(".jAlert:visible").length>0?e(".jAlert:visible:last").jAlert().centerAlert():e("body").css("overflow","auto")},f.animationTimeout)),f},showAlert:function(t,n,o,i){0!=t&&(t=!0),n!==!1&&(n=!0),t&&e(".jAlert:visible").jAlert().closeAlert(n);var a=f.instance.parents(".ja_wrap");return e("body").append(a),f.animateAlert("show"),"function"==typeof i&&(f.onClose=i),window.setTimeout(function(){"function"==typeof o&&o(f.instance)},f.animationTimeout),f}};if(e.each(t,function(e,t){f.set(e,t)}),f.set("id",c),f.content&&0===f.content.indexOf("#")&&e(f.content).length>0&&(f.content=e(f.content).html()),f.video&&f.video.indexOf("youtube.com/watch?v=")>-1&&-1===f.video.indexOf("embed")&&(f.video=f.video.replace("watch?v=","embed/")),"confirm"==f.type&&(f.content||(f.content=f.confirmQuestion),f.btns=[{text:f.confirmBtnText,theme:"green","class":"confirmBtn",closeAlert:!0,onClick:f.onConfirm},{text:f.denyBtnText,theme:"red","class":"denyBtn",closeAlert:!0,onClick:f.onDeny}],f.autofocus=f.confirmAutofocus),f.color&&(f.theme=f.color),-1==e.inArray(f.theme,n))return console.log("jAlert Config Error: Invalid theme selection."),!1;if(l.push("ja_"+f.theme),f["class"]&&l.push(f["class"]),f.classes&&l.push(f.classes),f.title||l.push("ja_noTitle"),f.width&&(f.size=f.width),f.size&&"object"==typeof f.size&&("undefined"==typeof f.size.width||"undefined"==typeof f.size.height))return console.log("jAlert Config Error: Invalid size selection (try a preset or make sure you're including height and width in your size object)."),!1;if(f.size?"object"==typeof f.size?(r.push("width: "+f.size.width+";"),r.push("height: "+f.size.height+";"),l.push("ja_setheight")):("undefined"!=typeof i[f.size]&&(f.size=i[f.size]),e.inArray(f.size,o)>-1?l.push("ja_"+f.size):r.push("width: "+f.size+";")):l.push("ja_sm"),-1==e.inArray(f.backgroundColor,a))return console.log("jAlert Config Error: Invalid background color selection."),!1;s.push("ja_wrap_"+f.backgroundColor),f.onOpen=[f.onOpen];var u="onload='$.fn.jAlert.mediaLoaded($(this))'",h="<div class='ja_loader'>Loading...</div>";f.picture&&(f.image=f.picture),f.image?(f.content="<div class='ja_media_wrap'>"+h+"<img src='"+f.image+"' class='ja_img' "+u+"'",f.imageWidth&&(f.content+=" style='width: "+f.imageWidth+"'"),f.content+="></div>"):f.video?(f.content="<div class='ja_media_wrap'>"+h+"<div class='ja_video'></div></div>",f.onOpen.unshift(function(t){var n=document.createElement("iframe");n.src=t.jAlert().video,n.addEventListener?n.addEventListener("load",function(){e.fn.jAlert.mediaLoaded(e(this))},!0):n.attachEvent?n.attachEvent("onload",function(){e.fn.jAlert.mediaLoaded(e(this))}):n.onload=function(){e.fn.jAlert.mediaLoaded(e(this))},t.find(".ja_video").append(n)})):f.iframe?(f.iframeHeight||(f.iframeHeight=.9*e(window).height()+"px"),f.content="<div class='ja_media_wrap'>"+h+"</div>",f.onOpen.unshift(function(t){var n=document.createElement("iframe");n.src=t.jAlert().iframe,n.height=t.jAlert().iframeHeight,n.className="ja_iframe",n.addEventListener?n.addEventListener("load",function(){e.fn.jAlert.mediaLoaded(e(this))},!0):n.attachEvent?n.attachEvent("onload",function(){e.fn.jAlert.mediaLoaded(e(this))}):n.onload=function(){e.fn.jAlert.mediaLoaded(e(this))},t.find(".ja_media_wrap").append(n)})):f.ajax&&(f.content="<div class='ja_media_wrap'>"+h+"</div>",onAjaxCallbacks=f.onOpen,f.onOpen=[function(t){e.ajax(t.jAlert().ajax,{async:!0,complete:function(n,o){t.find(".ja_media_wrap").replaceWith(n.responseText),e.each(onAjaxCallbacks,function(e,n){n(t)})},error:function(e,n,o){f.onAjaxFail(t,"Error getting content: Code: "+e.status+" : Msg: "+e.statusText)}})}]);var j=function(t){if("undefined"==typeof t.href&&(t.href=""),"undefined"==typeof t["class"]&&(t["class"]=""),"undefined"==typeof t.theme?t["class"]+=" ja_btn_default":t["class"]+=" ja_btn_"+t.theme,"undefined"==typeof t.text&&(t.text=""),"undefined"==typeof t.id){var n=Date.now().toString()+Math.floor(1e5*Math.random());t.id="ja_btn_"+n}return"undefined"==typeof t.target&&(t.target="_self"),"undefined"==typeof t.closeAlert&&(t.closeAlert=!0),e("body").on("click","#"+t.id,function(n){var o=e(this);t.closeAlert&&o.parents(".jAlert").jAlert().closeAlert();var i=!0;return"function"==typeof t.onClick&&(i=t.onClick(n,o)),!i||t.closeAlert?(n.preventDefault(),!1):i}),"<a href='"+t.href+"' id='"+t.id+"' target='"+t.target+"' class='ja_btn "+t["class"]+"'>"+t.text+"</a> "},A=function(t){var n="";n+='<div class="ja_wrap '+s.join(" ")+'"><div class="jAlert '+l.join(" ")+'" style="'+r.join(" ")+'" id="'+f.id+'"><div>',f.closeBtn&&(n+="<div class='closejAlert ja_close",f.closeBtnAlt?n+=" ja_close_alt":f.closeBtnRound&&(n+=" ja_close_round"),n+="'>&times;</div>"),f.title&&(n+="<div class='ja_title'><div>"+f.title+"</div></div>"),n+='<div class="ja_body">'+t,f.btns&&(n+='<div class="ja_btn_wrap ',f.btnBackground&&(n+="optBack"),n+='">'),"object"==typeof f.btns[0]?e.each(f.btns,function(e,t){"object"==typeof t&&(n+=j(t))}):"object"==typeof f.btns?n+=j(f.btns):f.btns&&console.log("jAlert Config Error: Incorrect value for btns (must be object or array of objects): "+f.btns),f.btns&&(n+="</div>"),n+="</div></div></div></div>";var o=e(n);if(f.replaceOtherAlerts){var i=e(".jAlert:visible");i.each(function(){e(this).jAlert().closeAlert()})}return e("body").append(o),f.instance=e("#"+f.id),f.instance[0].jAlert=f,e("body").css("overflow","hidden"),f.animateAlert("show"),f.closeBtn&&f.instance.on("click",".closejAlert",function(t){return t.preventDefault(),e(this).parents(".jAlert:first").jAlert().closeAlert(),!1}),f.closeOnClick&&(e(document).off("mouseup",e.fn.jAlert.onMouseUp),e(document).on("mouseup",e.fn.jAlert.onMouseUp)),f.closeOnEsc&&(e(document).off("keydown",e.fn.jAlert.onEscKeyDown),e(document).on("keydown",e.fn.jAlert.onEscKeyDown)),f.onOpen&&e.each(f.onOpen,function(e,t){t(f.instance)}),f.autofocus?f.instance.find(f.autofocus).focus():f.instance.focus(),f.instance.bind("DOMSubtreeModified",function(){f.centerAlert()}),f.instance};return this.initialize=function(){return f.content||f.image||f.video||f.iframe||f.ajax?(f.content||(f.content=""),A(f.content)):(console.log("jAlert potential error: No content defined"),A(""))},this.initialize(),f},e.fn.jAlert.defaults={title:!1,content:!1,image:!1,imageWidth:"auto",video:!1,ajax:!1,onAjaxFail:function(e,t){e.jAlert().closeAlert(),errorAlert(t)},iframe:!1,iframeHeight:!1,"class":"",classes:"",id:!1,showAnimation:"fadeInUp",hideAnimation:"fadeOutDown",animationTimeout:600,theme:"default",backgroundColor:"black",size:!1,replaceOtherAlerts:!1,closeOnClick:!1,closeOnEsc:!0,closeBtn:!0,closeBtnAlt:!1,closeBtnRound:!0,btns:!1,btnBackground:!0,autofocus:!1,onOpen:function(e){return!1},onClose:function(e){return!1},type:"modal",confirmQuestion:"Are you sure?",confirmBtnText:"Yes",denyBtnText:"No",confirmAutofocus:".confirmBtn",onConfirm:function(e,t){return e.preventDefault(),console.log("confirmed"),!1},onDeny:function(e,t){return e.preventDefault(),!1}},e.fn.jAlert.onMouseUp=function(t){var n=t.target?t.target:t.srcElement,o=e(".jAlert:visible:last");o.length>0&&o.jAlert().closeOnClick&&(e(n).is(".jAlert *")||o.jAlert().closeAlert())},e.fn.jAlert.onEscKeyDown=function(t){if(27===t.keyCode){var n=e(".jAlert:visible:last");n.length>0&&n.jAlert().closeOnEsc&&n.jAlert().closeAlert()}},e.fn.attachjAlert=function(t){return t.preventDefault(),e.jAlert(e(this).data()),!1},e.jAlert=function(t){if("current"==t){var n=e(".jAlert:visible:last");return n.length>0?n.jAlert():!1}return"attach"==t?(e("[data-jAlert]").off("click",e.fn.attachjAlert),e("[data-jAlert]").on("click",e.fn.attachjAlert),e("[data-jalert]").off("click",e.fn.attachjAlert),e("[data-jalert]").on("click",e.fn.attachjAlert),!1):e.fn.jAlert(t)},e.fn.alertOnClick=function(t){e(this).on("click",function(n){return n.preventDefault(),e.jAlert(t),!1})},e.alertOnClick=function(t,n){e("body").on("click",t,function(t){return t.preventDefault(),e.jAlert(n),!1})},e.fn.closeAlert=function(t,n){e(this).jAlert().closeAlert(t,n)};var t;e(window).resize(function(){window.clearTimeout(t),t=window.setTimeout(function(){e(".jAlert:visible").each(function(){e(this).jAlert().centerAlert()})},200)}),e.fn.jAlert.mediaLoaded=function(e){var t=e.parents(".ja_media_wrap"),n=t.find(".ja_video");t.find(".ja_loader").remove(),n.length>0?n.fadeIn("fast"):e.fadeIn("fast"),e.parents(".jAlert").jAlert().centerAlert()}}(jQuery);